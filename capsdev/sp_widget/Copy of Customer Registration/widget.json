{
    "instance": {
        "name": "capsdev",
        "url": "https://capsdev.service-now.com",
        "g_ck": "deddd3161bfc691094b0cbb5464bcb484a226a3f175006963caa5dfa744d95e6306d01c8"
    },
    "action": "saveWidget",
    "tableName": "sp_widget",
    "name": "Copy of Customer Registration",
    "sys_id": "bd73698bdb134850afa29532ca96193e",
    "widget": {
        "template": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Body HTML template",
            "sys_readonly": false,
            "type": "html_template",
            "mandatory": false,
            "displayValue": "<div class=\"panel b\" ng-init=\"registrationInit()\">\n   <!-- header -->\n   <div class=\"panel-heading bg-primary\">\n      <h1 class=\"panel-title\" ng-if=\"c.data.procedureChoice == 0\">${Customer Registration}</h1>\n     <h1 class=\"panel-title\" ng-if=\"c.data.procedureChoice == 1\">${Forgot password}</h1>\n   </div>\n   <!-- body -->\n   <div class=\"panel-body\" >\n      <form ng-submit=\"$event.preventDefault()\" class=\"form-horizontal\">\n                 <!-- Last Name input-->\n         <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">\n            <label class=\"col-sm-3 control-label\" for=\"last_name\">\n              <span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.last_name != ''}\"></span>\n           \t${Last Name}\n           </label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.last_name\" id=\"last_name\" name=\"last_name\" placeholder=\"${last name}\" class=\"form-control\">\n            </div>\n         </div>\n        \n         <!-- First Name input-->\n         <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">\n           <label class=\"col-sm-3 control-label\" for=\"first_name\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.first_name != ''}\"></span>\n           ${First Name}</label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.first_name\" id=\"first_name\" name=\"first_name\" placeholder=\"${first name}\" class=\"form-control\">\n            </div>\n         </div>\n        \n         <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">  \n           <label class=\"col-sm-3 control-label\" for=\"language\">\n             <span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.data.language != ''}\"></span>\n             ${Portal language}\n           </label>\n           <div class=\"col-sm-6\">\n            <input type=\"radio\" id=\"choiceLanguage1\"\n                   name=\"choiceLanguage\" ng-model=\"c.data.language\" value=\"fr\">\n            <label for=\"choiceRequest1\">${French}</label>\n\n            <input type=\"radio\" id=\"choiceLanguage2\"\n                   name=\"choiceLanguage\" ng-model=\"c.data.language\" value=\"en\">\n            <label for=\"choiceLanguage2\">${English}</label>\n           </div>\n        </div>\n\n\n         <!-- Registration Code input-->\n         <div class=\"form-group\" ng-show='false'>\n            <label class=\"col-sm-3 control-label\" for=\"code\">${Registration Code}</label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.code\" id=\"code\" name=\"code\" placeholder=\"${Your company registration code}\" class=\"form-control\">\n            </div>\n         </div>\n        \n          <div class=\"form-group\" ng-show='true'>\n            <label class=\"col-sm-3 control-label\" name=\"company\" for=\"company\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.company !=''&&c.company !='example.com'&&c.company!=null}\"></span>\n           ${Company}</label>\n            <div class=\"col-sm-6\">\n            <sn-choice-list id='company'\n   \n  sn-model=\"c.company\" \n  sn-options=\"c.options\" \n  sn-value-field=\"value\" \n  sn-text-field=\"label\"\n  sn-on-change=\"c.setSelectedCompany(selectedValue)\"\n  sn-items=\"c.data.list\">\n</sn-choice-list>\n            </div>\n         </div>\n        \n          <div class=\"form-group\" ng-show='c.selectedCompany !=null'>\n            <label class=\"col-sm-3 control-label\" for=\"domaine\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.dom !='example.com'}\"></span>\n           ${Domain}</label>\n            <div class=\"col-sm-6\">\n              <select required ng-model=\"c.domainName\" ng-change =  \"c.dom = c.domainName;alert()\"  style=\"opacity: 1; width: 100%;\" class=\"myselect\" name=\"domaine\" id=\"domaine\">\n                \n                \t<option  ng-if = \"c.singleDomaine == true\" disabled value='-1' >-- None --</option>\n                  <option  ng-selected = \"c.singleDomaine == false\" ng-repeat=\"domain in c.data.list[c.selectedCompany].domaines\">{{domain.label}}</option>\n                \t\n              </select>\n              \n            </div>\n         </div>\n                 <!-- Business Email input-->\n <div class=\"form-group\">\n          \n             <label class=\"col-sm-3 control-label\" for=\"email\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.email != '' && c.isvalidEmail}\"></span>\n           ${Business Email}</label>\n          \n            <div class=\"col-sm-3\" style=\"padding-right:2px;\">\n             <input ng-change=\"c.toggle()\"ng-model=\"c.email\" id=\"email\" name=\"email\" style=\"text-align:right;\" aria-describedby=\"basic-addon\" placeholder=\"${business email}\" class=\"form-control\" ng-disabled=\"c.dom=='ca-ps.com'\">\n              <span style=\"color: red;\" ng-show=\"!c.isvalidEmail\">${Check your email syntax}</span>\n              </div>\n          <label style=\"padding-top:7px;text-align:left;\" for=\"email\">@{{c.dom}}</label>\n\t\t\t\t  <p class=\"col-sm-7 control-label\" ng-if=\"c.dom=='ca-ps.com'\" style=\"padding-top:7px; color:red\">Pour les utilisateurs CAPS, passez par CAPS'Habilitation</p>\n          </div>\n \n             \n   <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">\n          \n             <label class=\"col-sm-3 control-label\" style=\"padding-top:0px;\" for=\"email_perso\">\n           ${Add secondary notification mail/team mail}</label>\n          \n            <div class=\"col-sm-3\" style=\"padding-right:2px;\">\n             <input ng-change=\"c.toggle()\" ng-model=\"c.email_perso\" id=\"email_perso\" name=\"email_perso\" style=\"text-align:right;\" aria-describedby=\"basic-addon\" placeholder=\"${notification email}\" class=\"form-control\">\n              <span style=\"color: red;\" ng-show=\"!c.isvalidSecondaryEmail\">${Check your email syntax}</span>\n              </div>\n          <label style=\"padding-top:7px;text-align:left;\" for=\"email_perso\">@{{c.dom}}</label>\n          </div>\n     \n         \n           \n           \n     \n        \n         <div class=\"form-group\" ng-show='true' ng-if=\"c.data.procedureChoice == 'register'\">\n            <label class=\"col-sm-3 control-label\" for=\"phone\">${Phone}</label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.phone\" id=\"phone\" name=\"phone\" placeholder=\"${phone number}\" class=\"form-control\">\n            </div>\n         </div>\n        \n         <!-- Privacy Policy & Terms conditions -->\n         <div class=\"form-group col-sm-12 input-group-checkbox\" ng-if=\"c.data.procedureChoice == 'register'\">\n            <div class=\"col-sm-6 form_link col-sm-offset-3\" tabindex=\"0\">\n               <label class=\"control-label adjust-label\" for=\"checkbox_agree\">\n               <input ng-model=\"c.policy\" id=\"checkbox_agree\" class=\"checkbox_agree\" type=\"checkbox\" name=\"policy\">\n               I agree to the <a href=\"/sn_customerservice_registration_privacy_policy_doc.do\" target=\"_blank\">Privacy Policy</a>\n               and Community <a href=\"/sn_customerservice_registration_terms_doc.do\" target=\"_blank\">Terms and Conditions</a>\n               </label>\n            </div>\n         </div>\n         <input id=\"sitekey\" type=\"hidden\" value={{c.data.captchaSiteKey}}>\n         <script src=\"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\" async defer> </script>\n         <script>\n            var onloadCallback = function() {\n                var siteKey = jQuery(\"#sitekey\").val();\n                var captchaVerified;\n                var captchaWidget;\n                var verifyCallback = function(grc) {\n                    if ((grc == \"\") || (grc == undefined))\n                        captchaVerified = false;\n                    else \n                        captchaVerified = true;\n                    jQuery(\"#captchaVerified\").attr(\"value\", captchaVerified);\n                    CustomEvent.fireAll('sn_csm_captcha_verified', {captchaVerified: captchaVerified, grc: grc});\n                };\n                captchaWidget = grecaptcha.render('html_element', {\n                    'sitekey': siteKey,\n                    'callback': verifyCallback,\n                    'theme': 'light',\n                    'expired-callback': captchaExpired\n                });\n            };\n            var captchaExpired = function() {\n                captchaVerified = false;\n                jQuery(\"#captchaVerified\").attr(\"value\", captchaVerified);\n                CustomEvent.fireAll('sn_csm_captcha_verified', {captchaVerified: captchaVerified, grc: null});\n            };\n         </script>\n         <!-- Google Recaptcha -->\n         <div ng-if=\"data.enableCaptcha == 'true'\" id=\"captcha_form_group\" class=\"form-group\">\n            <input ng-model=\"c.captchaVerified\" type=\"checkbox\" name=\"captchaVerified\" id=\"captchaVerified\" style=\"display:none;\" class=\"form-control\">\n            <label class=\"col-sm-3 control-label\">${Security Code}</label>\n            <span class=\"col-sm-9\">\n      <form action=\"?\" method=\"POST\">\n      <div class=\"g-recaptcha\" id=\"html_element\"></div>\n      <span class=\"help-block\" id=\"retype_captcha\"></span>\n      </form>\n      </span>\n      </div>\n   \n      <div>\n         <button type=\"submit\" ng-disabled=\"data.status == 'success' || c.showSubmit()\" ng-click=\"c.action()\" class=\"btn btn-primary\">${Submit}</button>\n      </div>\n      </form>\n  ",
            "readonly": false,
            "hint": "",
            "name": "template",
            "attributes": {},
            "choice": 0,
            "value": "<div class=\"panel b\" ng-init=\"registrationInit()\">\n   <!-- header -->\n   <div class=\"panel-heading bg-primary\">\n      <h1 class=\"panel-title\" ng-if=\"c.data.procedureChoice == 0\">${Customer Registration}</h1>\n     <h1 class=\"panel-title\" ng-if=\"c.data.procedureChoice == 1\">${Forgot password}</h1>\n   </div>\n   <!-- body -->\n   <div class=\"panel-body\" >\n      <form ng-submit=\"$event.preventDefault()\" class=\"form-horizontal\">\n                 <!-- Last Name input-->\n         <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">\n            <label class=\"col-sm-3 control-label\" for=\"last_name\">\n              <span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.last_name != ''}\"></span>\n           \t${Last Name}\n           </label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.last_name\" id=\"last_name\" name=\"last_name\" placeholder=\"${last name}\" class=\"form-control\">\n            </div>\n         </div>\n        \n         <!-- First Name input-->\n         <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">\n           <label class=\"col-sm-3 control-label\" for=\"first_name\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.first_name != ''}\"></span>\n           ${First Name}</label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.first_name\" id=\"first_name\" name=\"first_name\" placeholder=\"${first name}\" class=\"form-control\">\n            </div>\n         </div>\n        \n         <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">  \n           <label class=\"col-sm-3 control-label\" for=\"language\">\n             <span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.data.language != ''}\"></span>\n             ${Portal language}\n           </label>\n           <div class=\"col-sm-6\">\n            <input type=\"radio\" id=\"choiceLanguage1\"\n                   name=\"choiceLanguage\" ng-model=\"c.data.language\" value=\"fr\">\n            <label for=\"choiceRequest1\">${French}</label>\n\n            <input type=\"radio\" id=\"choiceLanguage2\"\n                   name=\"choiceLanguage\" ng-model=\"c.data.language\" value=\"en\">\n            <label for=\"choiceLanguage2\">${English}</label>\n           </div>\n        </div>\n\n\n         <!-- Registration Code input-->\n         <div class=\"form-group\" ng-show='false'>\n            <label class=\"col-sm-3 control-label\" for=\"code\">${Registration Code}</label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.code\" id=\"code\" name=\"code\" placeholder=\"${Your company registration code}\" class=\"form-control\">\n            </div>\n         </div>\n        \n          <div class=\"form-group\" ng-show='true'>\n            <label class=\"col-sm-3 control-label\" name=\"company\" for=\"company\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.company !=''&&c.company !='example.com'&&c.company!=null}\"></span>\n           ${Company}</label>\n            <div class=\"col-sm-6\">\n            <sn-choice-list id='company'\n   \n  sn-model=\"c.company\" \n  sn-options=\"c.options\" \n  sn-value-field=\"value\" \n  sn-text-field=\"label\"\n  sn-on-change=\"c.setSelectedCompany(selectedValue)\"\n  sn-items=\"c.data.list\">\n</sn-choice-list>\n            </div>\n         </div>\n        \n          <div class=\"form-group\" ng-show='c.selectedCompany !=null'>\n            <label class=\"col-sm-3 control-label\" for=\"domaine\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.dom !='example.com'}\"></span>\n           ${Domain}</label>\n            <div class=\"col-sm-6\">\n              <select required ng-model=\"c.domainName\" ng-change =  \"c.dom = c.domainName;alert()\"  style=\"opacity: 1; width: 100%;\" class=\"myselect\" name=\"domaine\" id=\"domaine\">\n                \n                \t<option  ng-if = \"c.singleDomaine == true\" disabled value='-1' >-- None --</option>\n                  <option  ng-selected = \"c.singleDomaine == false\" ng-repeat=\"domain in c.data.list[c.selectedCompany].domaines\">{{domain.label}}</option>\n                \t\n              </select>\n              \n            </div>\n         </div>\n                 <!-- Business Email input-->\n <div class=\"form-group\">\n          \n             <label class=\"col-sm-3 control-label\" for=\"email\"><span style=\"padding-left: .25em\" title=\"Mandatory\" class=\"fa fa-asterisk mandatory\" ng-class=\"{'mandatory-filled': c.email != '' && c.isvalidEmail}\"></span>\n           ${Business Email}</label>\n          \n            <div class=\"col-sm-3\" style=\"padding-right:2px;\">\n             <input ng-change=\"c.toggle()\"ng-model=\"c.email\" id=\"email\" name=\"email\" style=\"text-align:right;\" aria-describedby=\"basic-addon\" placeholder=\"${business email}\" class=\"form-control\" ng-disabled=\"c.dom=='ca-ps.com'\">\n              <span style=\"color: red;\" ng-show=\"!c.isvalidEmail\">${Check your email syntax}</span>\n              </div>\n          <label style=\"padding-top:7px;text-align:left;\" for=\"email\">@{{c.dom}}</label>\n\t\t\t\t  <p class=\"col-sm-7 control-label\" ng-if=\"c.dom=='ca-ps.com'\" style=\"padding-top:7px; color:red\">Pour les utilisateurs CAPS, passez par CAPS'Habilitation</p>\n          </div>\n \n             \n   <div class=\"form-group\" ng-if=\"c.data.procedureChoice == 'register'\">\n          \n             <label class=\"col-sm-3 control-label\" style=\"padding-top:0px;\" for=\"email_perso\">\n           ${Add secondary notification mail/team mail}</label>\n          \n            <div class=\"col-sm-3\" style=\"padding-right:2px;\">\n             <input ng-change=\"c.toggle()\" ng-model=\"c.email_perso\" id=\"email_perso\" name=\"email_perso\" style=\"text-align:right;\" aria-describedby=\"basic-addon\" placeholder=\"${notification email}\" class=\"form-control\">\n              <span style=\"color: red;\" ng-show=\"!c.isvalidSecondaryEmail\">${Check your email syntax}</span>\n              </div>\n          <label style=\"padding-top:7px;text-align:left;\" for=\"email_perso\">@{{c.dom}}</label>\n          </div>\n     \n         \n           \n           \n     \n        \n         <div class=\"form-group\" ng-show='true' ng-if=\"c.data.procedureChoice == 'register'\">\n            <label class=\"col-sm-3 control-label\" for=\"phone\">${Phone}</label>\n            <div class=\"col-sm-6\">\n               <input ng-model=\"c.phone\" id=\"phone\" name=\"phone\" placeholder=\"${phone number}\" class=\"form-control\">\n            </div>\n         </div>\n        \n         <!-- Privacy Policy & Terms conditions -->\n         <div class=\"form-group col-sm-12 input-group-checkbox\" ng-if=\"c.data.procedureChoice == 'register'\">\n            <div class=\"col-sm-6 form_link col-sm-offset-3\" tabindex=\"0\">\n               <label class=\"control-label adjust-label\" for=\"checkbox_agree\">\n               <input ng-model=\"c.policy\" id=\"checkbox_agree\" class=\"checkbox_agree\" type=\"checkbox\" name=\"policy\">\n               I agree to the <a href=\"/sn_customerservice_registration_privacy_policy_doc.do\" target=\"_blank\">Privacy Policy</a>\n               and Community <a href=\"/sn_customerservice_registration_terms_doc.do\" target=\"_blank\">Terms and Conditions</a>\n               </label>\n            </div>\n         </div>\n         <input id=\"sitekey\" type=\"hidden\" value={{c.data.captchaSiteKey}}>\n         <script src=\"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\" async defer> </script>\n         <script>\n            var onloadCallback = function() {\n                var siteKey = jQuery(\"#sitekey\").val();\n                var captchaVerified;\n                var captchaWidget;\n                var verifyCallback = function(grc) {\n                    if ((grc == \"\") || (grc == undefined))\n                        captchaVerified = false;\n                    else \n                        captchaVerified = true;\n                    jQuery(\"#captchaVerified\").attr(\"value\", captchaVerified);\n                    CustomEvent.fireAll('sn_csm_captcha_verified', {captchaVerified: captchaVerified, grc: grc});\n                };\n                captchaWidget = grecaptcha.render('html_element', {\n                    'sitekey': siteKey,\n                    'callback': verifyCallback,\n                    'theme': 'light',\n                    'expired-callback': captchaExpired\n                });\n            };\n            var captchaExpired = function() {\n                captchaVerified = false;\n                jQuery(\"#captchaVerified\").attr(\"value\", captchaVerified);\n                CustomEvent.fireAll('sn_csm_captcha_verified', {captchaVerified: captchaVerified, grc: null});\n            };\n         </script>\n         <!-- Google Recaptcha -->\n         <div ng-if=\"data.enableCaptcha == 'true'\" id=\"captcha_form_group\" class=\"form-group\">\n            <input ng-model=\"c.captchaVerified\" type=\"checkbox\" name=\"captchaVerified\" id=\"captchaVerified\" style=\"display:none;\" class=\"form-control\">\n            <label class=\"col-sm-3 control-label\">${Security Code}</label>\n            <span class=\"col-sm-9\">\n      <form action=\"?\" method=\"POST\">\n      <div class=\"g-recaptcha\" id=\"html_element\"></div>\n      <span class=\"help-block\" id=\"retype_captcha\"></span>\n      </form>\n      </span>\n      </div>\n   \n      <div>\n         <button type=\"submit\" ng-disabled=\"data.status == 'success' || c.showSubmit()\" ng-click=\"c.action()\" class=\"btn btn-primary\">${Submit}</button>\n      </div>\n      </form>\n  ",
            "max_length": 65000,
            "ed": {
                "name": "template"
            }
        },
        "css": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "CSS",
            "sys_readonly": false,
            "type": "css",
            "mandatory": false,
            "displayValue": ".form_link a {\n  text-decoration: underline;\n}\n\ninput[type=\"checkbox\"]:focus{\n  outline-width:3px;\n  outline-color:$input-border-focus;\n  outline-style:solid;\n}\n\n.form_link a:focus {\n  outline-width:3px;\n  outline-color:$input-border-focus;\n  outline-style:solid;\n  outline-offset:2px;\n}\n\n.adjust-label{\n  padding-top: 0px;\n  margin-bottom: 7px;\n}\n  input:focus{\n    outline-style:solid;\n    outline-width:1px;\n  }\n\n.myselect {\n    display: block;\n    padding: 0 0 0 8px;\n    overflow: hidden;\n    position: relative;\n    border: 1px solid #bdc0c4;\n    white-space: nowrap;\n    font-size: .9em;\n    line-height: 32px;\n    height: 100%;\n    color: #444;\n    text-decoration: none;\n    border-radius: 4px;\n    background-clip: padding-box;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    background-color: #fff;\n    min-height: 32px;\n   \n}\n",
            "readonly": false,
            "hint": "",
            "name": "css",
            "attributes": {},
            "choice": 0,
            "value": ".form_link a {\n  text-decoration: underline;\n}\n\ninput[type=\"checkbox\"]:focus{\n  outline-width:3px;\n  outline-color:$input-border-focus;\n  outline-style:solid;\n}\n\n.form_link a:focus {\n  outline-width:3px;\n  outline-color:$input-border-focus;\n  outline-style:solid;\n  outline-offset:2px;\n}\n\n.adjust-label{\n  padding-top: 0px;\n  margin-bottom: 7px;\n}\n  input:focus{\n    outline-style:solid;\n    outline-width:1px;\n  }\n\n.myselect {\n    display: block;\n    padding: 0 0 0 8px;\n    overflow: hidden;\n    position: relative;\n    border: 1px solid #bdc0c4;\n    white-space: nowrap;\n    font-size: .9em;\n    line-height: 32px;\n    height: 100%;\n    color: #444;\n    text-decoration: none;\n    border-radius: 4px;\n    background-clip: padding-box;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    background-color: #fff;\n    min-height: 32px;\n   \n}\n",
            "max_length": 8000,
            "ed": {
                "name": "css"
            }
        },
        "roles": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": 12,
            "label": "Roles",
            "sys_readonly": false,
            "type": "user_roles",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "roles",
            "attributes": {
                "no_truncate": "true",
                "update_exempt": "true",
                "record_watcher_blacklist": "true"
            },
            "choice": 0,
            "value": "",
            "max_length": 255,
            "ed": {
                "name": "roles"
            }
        },
        "link": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Link",
            "sys_readonly": false,
            "type": "script",
            "mandatory": false,
            "displayValue": "function link(scope, element, attrs, controller) {  }",
            "readonly": false,
            "hint": "",
            "name": "link",
            "attributes": {
                "client_script": "true"
            },
            "choice": 0,
            "value": "function link(scope, element, attrs, controller) {  }",
            "max_length": 65000,
            "ed": {
                "name": "link"
            }
        },
        "description": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Description",
            "sys_readonly": false,
            "type": "string",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "Defines what the widget does",
            "name": "description",
            "attributes": {
                "edge_encryption_enabled": "true"
            },
            "choice": 0,
            "value": "",
            "max_length": 300,
            "ed": {
                "name": "description"
            }
        },
        "demo_data": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Demo data",
            "sys_readonly": false,
            "type": "json",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "demo_data",
            "attributes": {},
            "choice": 0,
            "value": "",
            "max_length": 8000,
            "ed": {
                "name": "demo_data"
            }
        },
        "option_schema": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Option schema",
            "sys_readonly": false,
            "type": "json",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "option_schema",
            "attributes": {},
            "choice": 0,
            "value": "",
            "max_length": 8000,
            "ed": {
                "name": "option_schema"
            }
        },
        "script": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Server script",
            "sys_readonly": false,
            "type": "script",
            "mandatory": false,
            "displayValue": "(function($sp, input, data, options) {\n\tvar procedureChoice = $sp.getParameter('procedure_choice');\n\tdata.procedureChoice = procedureChoice;\n\tdata.is_logged_in = gs.getSession().isLoggedIn();\n\tdata.sys_id = '-1';\n\tdata.list=[];\n\tdata.sc=gs.getMessage('your company');\n\tdata.domaines = [];\n\tvar e={};\n\tvar gr=new GlideRecord('customer_account');\n\tgr.addEncodedQuery('name!=NULL^u_domaine!=NULL^u_active=true');\n\tgr.orderBy('name');\n\tgr.query();\n\tvar domains;\n\t\n\tvar i=1;\n\twhile(gr.next()){\n\t\tdomains = [];\n\t\te={};\n\t\te.value=i;\n\t\te.label=gr.getValue('name');\n\t\te.sys_id=gr.getUniqueValue();\n\t\te.mail= gr.getValue('u_domaine');\n\t\te.domaines = [];\n\t\t\n\t\tdomains = gr.getValue('u_domaine').split(',');\n\t\tfor (var j = 0 ; j < domains.length ; j ++){\n\t\t\t//data.domaines.push({value : j, label: domains[j],companyValue : i ,companyName : e.label});\n\t\t\te.domaines.push({value : j, label: domains[j]});\n\t\t\t//data.domaines.push('test');\n\t\t}\n\n\t\tdata.list.push(e);\n\t\ti++;\n\t}\n\t\t\n\t\n\tdata.captch_url= 'https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit&hl=' + gs.getSession().getLanguage();\n\tdata.enableCaptcha = gs.getProperty('sn_customerservice.captchaEnabled');\n\tdata.captchaSiteKey = gs.getProperty('google.captcha.site_key');\n\t\n\tvar trueCaptcha = new global.CSManagementUtils().verifyCaptcha(input.grc);\n\t\n\tvar user = gs.getUser();\n\tvar result = {};\n\t\n\tif (input && input.action == 'register' && input.first_name && input.last_name && input.email && input.company) {\n\t\tif(trueCaptcha) {\n\t\t\tgr = new GlideRecord('sn_customerservice_registration');\n\t\t\tgr.initialize();\n\t\t\t\n\t\t\tgr.setValue('first_name', input.first_name);\n\t\t\t//gr.setValue('u_langue',gs.getSession().getLanguage());\n\t\t\tgr.setValue('u_langue',input.language);\n\t\t\tgr.setValue('last_name', input.last_name);\n\t\t\t\n\t\t\tgr.setValue('email', input.email);\n\t\t\tgr.setValue('account',data.list[input.company-1].sys_id);\n\t\t\tgr.setValue('u_phone',input.phone);\n\t\t\tif(input.email_perso ){\n\t\t\t\t\n\t\t\t\tgr.setValue('u_email_notification',input.email_perso);\n\t\t\t}else\n\t\t\tgr.setValue('u_email_notification','');\n\t\t\t\n\t\t\t//gr.setValue('registration_code', input.code);\n\t\t\tvar sys_id = gr.insert();\n\t\t\tif(!gs.nil(sys_id)) {\n\t\t\t\tdata.sys_id = sys_id;\n\t\t\t\tdata.status = \"success\";\n\t\t\t\tdata.message = gs.getMessage(\"Your request has been submitted and is pending review. You will receive an email when your request is processed.\");\n\t\t\t} else {\n\t\t\t\tdata.status = \"error\";\n\t\t\t}\n\t\t\tdata.result = result;\n\t\t\treturn data;\n\t\t} else {\n\t\t\tgs.addErrorMessage(gs.getMessage('Please verify the security code.'));\n\t\t\tdata.status = \"error\";\n\t\t\treturn data;\n\t\t}\t\n\t}\n\tif(input && input.procedureChoice.toString() === \"forgotpass\" && input.email) {\n\t\tif(trueCaptcha) {\n\t\t\tvar gr_user = new GlideRecord('sys_user');\n\t\t\tgr_user.addEncodedQuery('email=' + input.email);\n\t\t\tgr_user.query();\n\t\t\twhile(gr_user.next()) {\n\t\t\t\tgr = new GlideRecord('sn_customerservice_registration');\n\t\t\tgr.initialize();\n\t\t\t\n\t\t\t//gr.setValue('first_name', \"\");\n\t\t\t//gr.setValue('u_langue',gs.getSession().getLanguage());\n\t\t\t//gr.setValue('last_name', \"\");\n\t\t\tgr.setValue('email', input.email);\n\t\t\tgr.setValue('account',data.list[input.company-1].sys_id);\n\t\t\t\n\t\t\tvar sys_id = gr.insert();\n\t\t\tif(!gs.nil(sys_id)) {\n\t\t\t\tdata.sys_id = sys_id;\n\t\t\t\tdata.status = \"success\";\n\t\t\t\tdata.message = gs.getMessage(\"Your request has been submitted and is pending review. You will receive an email when your request is processed.\");\n\t\t\t} else {\n\t\t\t\tdata.status = \"error\";\n\t\t\t}\n\t\t\tdata.result = result;\n\t\t\treturn data;\n\t\t\n\t\t\t}\n\t\t\t\n\t\t\tdata.message = gs.addErrorMessage(gs.getMessage(\"Your account doesn't exist. Please, check your syntax.\"));\n\t\t\treturn data;\n\t\t\t\n\t\t} else {\n\t\t\tgs.addErrorMessage(gs.getMessage('Please verify the security code.'));\n\t\t\tdata.status = \"error\";\n\t\t\treturn data;\n\t\t}\t\t\n\t}\n\t\n})($sp, input, data, options);",
            "readonly": false,
            "hint": "",
            "name": "script",
            "attributes": {},
            "choice": 0,
            "value": "(function($sp, input, data, options) {\n\tvar procedureChoice = $sp.getParameter('procedure_choice');\n\tdata.procedureChoice = procedureChoice;\n\tdata.is_logged_in = gs.getSession().isLoggedIn();\n\tdata.sys_id = '-1';\n\tdata.list=[];\n\tdata.sc=gs.getMessage('your company');\n\tdata.domaines = [];\n\tvar e={};\n\tvar gr=new GlideRecord('customer_account');\n\tgr.addEncodedQuery('name!=NULL^u_domaine!=NULL^u_active=true');\n\tgr.orderBy('name');\n\tgr.query();\n\tvar domains;\n\t\n\tvar i=1;\n\twhile(gr.next()){\n\t\tdomains = [];\n\t\te={};\n\t\te.value=i;\n\t\te.label=gr.getValue('name');\n\t\te.sys_id=gr.getUniqueValue();\n\t\te.mail= gr.getValue('u_domaine');\n\t\te.domaines = [];\n\t\t\n\t\tdomains = gr.getValue('u_domaine').split(',');\n\t\tfor (var j = 0 ; j < domains.length ; j ++){\n\t\t\t//data.domaines.push({value : j, label: domains[j],companyValue : i ,companyName : e.label});\n\t\t\te.domaines.push({value : j, label: domains[j]});\n\t\t\t//data.domaines.push('test');\n\t\t}\n\n\t\tdata.list.push(e);\n\t\ti++;\n\t}\n\t\t\n\t\n\tdata.captch_url= 'https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit&hl=' + gs.getSession().getLanguage();\n\tdata.enableCaptcha = gs.getProperty('sn_customerservice.captchaEnabled');\n\tdata.captchaSiteKey = gs.getProperty('google.captcha.site_key');\n\t\n\tvar trueCaptcha = new global.CSManagementUtils().verifyCaptcha(input.grc);\n\t\n\tvar user = gs.getUser();\n\tvar result = {};\n\t\n\tif (input && input.action == 'register' && input.first_name && input.last_name && input.email && input.company) {\n\t\tif(trueCaptcha) {\n\t\t\tgr = new GlideRecord('sn_customerservice_registration');\n\t\t\tgr.initialize();\n\t\t\t\n\t\t\tgr.setValue('first_name', input.first_name);\n\t\t\t//gr.setValue('u_langue',gs.getSession().getLanguage());\n\t\t\tgr.setValue('u_langue',input.language);\n\t\t\tgr.setValue('last_name', input.last_name);\n\t\t\t\n\t\t\tgr.setValue('email', input.email);\n\t\t\tgr.setValue('account',data.list[input.company-1].sys_id);\n\t\t\tgr.setValue('u_phone',input.phone);\n\t\t\tif(input.email_perso ){\n\t\t\t\t\n\t\t\t\tgr.setValue('u_email_notification',input.email_perso);\n\t\t\t}else\n\t\t\tgr.setValue('u_email_notification','');\n\t\t\t\n\t\t\t//gr.setValue('registration_code', input.code);\n\t\t\tvar sys_id = gr.insert();\n\t\t\tif(!gs.nil(sys_id)) {\n\t\t\t\tdata.sys_id = sys_id;\n\t\t\t\tdata.status = \"success\";\n\t\t\t\tdata.message = gs.getMessage(\"Your request has been submitted and is pending review. You will receive an email when your request is processed.\");\n\t\t\t} else {\n\t\t\t\tdata.status = \"error\";\n\t\t\t}\n\t\t\tdata.result = result;\n\t\t\treturn data;\n\t\t} else {\n\t\t\tgs.addErrorMessage(gs.getMessage('Please verify the security code.'));\n\t\t\tdata.status = \"error\";\n\t\t\treturn data;\n\t\t}\t\n\t}\n\tif(input && input.procedureChoice.toString() === \"forgotpass\" && input.email) {\n\t\tif(trueCaptcha) {\n\t\t\tvar gr_user = new GlideRecord('sys_user');\n\t\t\tgr_user.addEncodedQuery('email=' + input.email);\n\t\t\tgr_user.query();\n\t\t\twhile(gr_user.next()) {\n\t\t\t\tgr = new GlideRecord('sn_customerservice_registration');\n\t\t\tgr.initialize();\n\t\t\t\n\t\t\t//gr.setValue('first_name', \"\");\n\t\t\t//gr.setValue('u_langue',gs.getSession().getLanguage());\n\t\t\t//gr.setValue('last_name', \"\");\n\t\t\tgr.setValue('email', input.email);\n\t\t\tgr.setValue('account',data.list[input.company-1].sys_id);\n\t\t\t\n\t\t\tvar sys_id = gr.insert();\n\t\t\tif(!gs.nil(sys_id)) {\n\t\t\t\tdata.sys_id = sys_id;\n\t\t\t\tdata.status = \"success\";\n\t\t\t\tdata.message = gs.getMessage(\"Your request has been submitted and is pending review. You will receive an email when your request is processed.\");\n\t\t\t} else {\n\t\t\t\tdata.status = \"error\";\n\t\t\t}\n\t\t\tdata.result = result;\n\t\t\treturn data;\n\t\t\n\t\t\t}\n\t\t\t\n\t\t\tdata.message = gs.addErrorMessage(gs.getMessage(\"Your account doesn't exist. Please, check your syntax.\"));\n\t\t\treturn data;\n\t\t\t\n\t\t} else {\n\t\t\tgs.addErrorMessage(gs.getMessage('Please verify the security code.'));\n\t\t\tdata.status = \"error\";\n\t\t\treturn data;\n\t\t}\t\t\n\t}\n\t\n})($sp, input, data, options);",
            "max_length": 65000,
            "ed": {
                "name": "script"
            }
        },
        "has_preview": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -7,
            "label": "Has preview",
            "sys_readonly": false,
            "type": "boolean",
            "mandatory": false,
            "displayValue": "false",
            "readonly": false,
            "hint": "Defines whether preview data is available",
            "name": "has_preview",
            "attributes": {},
            "choice": 0,
            "value": "false",
            "max_length": 40,
            "ed": {
                "name": "has_preview"
            }
        },
        "public": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -7,
            "label": "Public",
            "sys_readonly": false,
            "type": "boolean",
            "mandatory": false,
            "displayValue": "true",
            "readonly": false,
            "hint": "Widget publicly available to unauthenticated users",
            "name": "public",
            "attributes": {
                "update_exempt": "true"
            },
            "choice": 0,
            "value": "true",
            "max_length": 40,
            "ed": {
                "name": "public"
            }
        },
        "docs": {
            "sys_mandatory": false,
            "visible": true,
            "table_attributes": {
                "update_synch": "true",
                "synch_attachments": "true"
            },
            "dbType": 12,
            "label": "Docs",
            "sys_readonly": false,
            "type": "reference",
            "mandatory": false,
            "refTable": "sp_documentation",
            "reference_type": "table",
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "docs",
            "attributes": {
                "encode_utf8": "false"
            },
            "reference_key": "sys_id",
            "readonlyClickthrough": true,
            "choice": 0,
            "value": "",
            "max_length": 32,
            "ed": {
                "reference": "sp_documentation",
                "searchField": "title",
                "defaultOperator": "STARTSWITH",
                "name": "docs"
            }
        },
        "client_script": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Client controller",
            "sys_readonly": false,
            "type": "script",
            "mandatory": false,
            "displayValue": "function ($scope, $rootScope, $timeout, spUtil, $location, $window) {\n    var c = this;\n\n    c.captchaVerified = false;\n    c.policy = false;\n\n\n    var lang = navigator.language;\n    if (/^en\\b/.test(navigator.language)) {\n        c.data.language = 'en';\n    }\n\n    if (/^fr\\b/.test(navigator.language)) {\n        c.data.language = 'fr';\n    }\n\n    c.first_name = '';\n    c.last_name = '';\n    c.email = '';\n    c.phone = '';\n    c.dom = 'example.com';\n\t\tc.isvalidEmail = true;\n\t\tc.isvalidSecondaryEmail = true;\n    //forgotpass\n    c.options = {\n        placeholder: c.data.sc,\n        allowClear: 'true'\n    }\n\n    c.toggle = function () {\n\t\t\tc.email = c.email.split(\"@\")[0];\n\t\n\t\t\ttry {\n\t\t\t\tc.email_perso = c.email_perso.split(\"@\")[0];\t\n\t\t\t\tc.isvalidSecondaryEmail = /^[a-zA-Z0-9._]+[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(c.email_perso);\n\n\t\t\t} catch(error) {\n\t\t\t\t//console.log(\"catch\");\n\t\t\t}\n\t\t\t\n\t\t\tc.isvalidEmail = /^[a-zA-Z0-9._]+[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(c.email);\n\t\t}\n\n    c.setSelectedCompany = function (selectedValue) {\n        c.domainName = '-1';// for non choice in domain select\n\n        //var g_form = new GlideForm();\n        if (selectedValue == 20) {\n            //g_form.showFieldMsg(\"company\", \"nope\", 'error');\n            //$scope.g_form.showFieldMsg(\"company\", \"nope\", 'error');\n        } else {\n            //g_form.hideFieldMsg(\"company\");\n        }\n\n        if (selectedValue != null) {\n\n            c.dom = 'example.com';//give the user a hint before chosing the domain\n            c.selectedCompany = selectedValue - 1;\n\n            c.singleDomaine = (c.data.list[c.selectedCompany].domaines.length > 1);//check if the company has only one domain\n            if (c.singleDomaine == false) {\n                c.domainName = c.dom = c.data.list[c.selectedCompany].domaines[0].label;//if the company have one domaine select it as the default value\n            }\n\n\n        }\n\n\n    };\n\n\n    CustomEvent.observe('sn_csm_captcha_verified', function (obj) {\n        c.captchaVerified = obj.captchaVerified;\n        c.grc = obj.grc;\n        scope.$apply();\n    });\n    c.showSubmit = function () {\n        //console.log(c.domainName);\n        //console.log(c.domainName==\"-1\");\n\t\t\t\n        if (c.data.enableCaptcha == 'false')\n            return !(c.first_name && c.policy == true && c.last_name && c.email && c.company && c.domainName != \"-1\" && c.data.language && c.dom != \"@example.com\" && c.dom != \"ca-ps.com\");\n        else\n            return !((c.first_name && c.policy == true && c.captchaVerified == true && c.last_name && c.isvalidEmail && c.isvalidSecondaryEmail\n\t\t\t\t\t\t\t\t\t\t\t&& c.grc && c.company && c.domainName != \"-1\" && c.data.language && c.dom != \"@example.com\" && c.dom != \"ca-ps.com\")\n\t\t\t\t\t\t\t\t\t\t || (c.data.procedureChoice.toString() == \"forgotpass\" && c.domainName && c.isvalidEmail\n\t\t\t\t\t\t\t\t\t\t\t\t && c.captchaVerified == true && c.dom != \"@example.com\" && c.dom != \"ca-ps.com\"));\n\t\t\t\n    };\n    c.action = function () {\n\n        c.data.action = 'register';\n        c.data.first_name = c.first_name;\n        c.data.last_name = c.last_name;\n        c.data.email = c.email + '@' + c.dom;\n        c.data.phone = c.phone;\n        if (c.email_perso) {\n            c.data.email_perso = c.email_perso + '@' + c.dom;\n        }\n\n        c.data.code = c.code;\n        c.data.company = c.company;\n        //c.data.procedureChoice = c.procedureChoice;\n\n        c.data.grc = c.grc;\n        c.server.update().then(function (response) {\n            var data = response[\"result\"];\n            if (response.status == 'success') {\n                c.success = response[\"message\"];\n                $timeout(function () {\n                    $location.url('/' + $scope.portal.url_suffix);\n                }, 5000);\n            } else if (response.status == 'error') {\n                c.success = 'There was an error processing your request';\n            }\n        });\n    };\n    $scope.registrationInit = function () { };\n\n\n}",
            "readonly": false,
            "hint": "",
            "name": "client_script",
            "attributes": {
                "client_script": "true"
            },
            "choice": 0,
            "value": "function ($scope, $rootScope, $timeout, spUtil, $location, $window) {\n    var c = this;\n\n    c.captchaVerified = false;\n    c.policy = false;\n\n\n    var lang = navigator.language;\n    if (/^en\\b/.test(navigator.language)) {\n        c.data.language = 'en';\n    }\n\n    if (/^fr\\b/.test(navigator.language)) {\n        c.data.language = 'fr';\n    }\n\n    c.first_name = '';\n    c.last_name = '';\n    c.email = '';\n    c.phone = '';\n    c.dom = 'example.com';\n\t\tc.isvalidEmail = true;\n\t\tc.isvalidSecondaryEmail = true;\n    //forgotpass\n    c.options = {\n        placeholder: c.data.sc,\n        allowClear: 'true'\n    }\n\n    c.toggle = function () {\n\t\t\tc.email = c.email.split(\"@\")[0];\n\t\n\t\t\ttry {\n\t\t\t\tc.email_perso = c.email_perso.split(\"@\")[0];\t\n\t\t\t\tc.isvalidSecondaryEmail = /^[a-zA-Z0-9._]+[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(c.email_perso);\n\n\t\t\t} catch(error) {\n\t\t\t\t//console.log(\"catch\");\n\t\t\t}\n\t\t\t\n\t\t\tc.isvalidEmail = /^[a-zA-Z0-9._]+[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(c.email);\n\t\t}\n\n    c.setSelectedCompany = function (selectedValue) {\n        c.domainName = '-1';// for non choice in domain select\n\n        //var g_form = new GlideForm();\n        if (selectedValue == 20) {\n            //g_form.showFieldMsg(\"company\", \"nope\", 'error');\n            //$scope.g_form.showFieldMsg(\"company\", \"nope\", 'error');\n        } else {\n            //g_form.hideFieldMsg(\"company\");\n        }\n\n        if (selectedValue != null) {\n\n            c.dom = 'example.com';//give the user a hint before chosing the domain\n            c.selectedCompany = selectedValue - 1;\n\n            c.singleDomaine = (c.data.list[c.selectedCompany].domaines.length > 1);//check if the company has only one domain\n            if (c.singleDomaine == false) {\n                c.domainName = c.dom = c.data.list[c.selectedCompany].domaines[0].label;//if the company have one domaine select it as the default value\n            }\n\n\n        }\n\n\n    };\n\n\n    CustomEvent.observe('sn_csm_captcha_verified', function (obj) {\n        c.captchaVerified = obj.captchaVerified;\n        c.grc = obj.grc;\n        scope.$apply();\n    });\n    c.showSubmit = function () {\n        //console.log(c.domainName);\n        //console.log(c.domainName==\"-1\");\n\t\t\t\n        if (c.data.enableCaptcha == 'false')\n            return !(c.first_name && c.policy == true && c.last_name && c.email && c.company && c.domainName != \"-1\" && c.data.language && c.dom != \"@example.com\" && c.dom != \"ca-ps.com\");\n        else\n            return !((c.first_name && c.policy == true && c.captchaVerified == true && c.last_name && c.isvalidEmail && c.isvalidSecondaryEmail\n\t\t\t\t\t\t\t\t\t\t\t&& c.grc && c.company && c.domainName != \"-1\" && c.data.language && c.dom != \"@example.com\" && c.dom != \"ca-ps.com\")\n\t\t\t\t\t\t\t\t\t\t || (c.data.procedureChoice.toString() == \"forgotpass\" && c.domainName && c.isvalidEmail\n\t\t\t\t\t\t\t\t\t\t\t\t && c.captchaVerified == true && c.dom != \"@example.com\" && c.dom != \"ca-ps.com\"));\n\t\t\t\n    };\n    c.action = function () {\n\n        c.data.action = 'register';\n        c.data.first_name = c.first_name;\n        c.data.last_name = c.last_name;\n        c.data.email = c.email + '@' + c.dom;\n        c.data.phone = c.phone;\n        if (c.email_perso) {\n            c.data.email_perso = c.email_perso + '@' + c.dom;\n        }\n\n        c.data.code = c.code;\n        c.data.company = c.company;\n        //c.data.procedureChoice = c.procedureChoice;\n\n        c.data.grc = c.grc;\n        c.server.update().then(function (response) {\n            var data = response[\"result\"];\n            if (response.status == 'success') {\n                c.success = response[\"message\"];\n                $timeout(function () {\n                    $location.url('/' + $scope.portal.url_suffix);\n                }, 5000);\n            } else if (response.status == 'error') {\n                c.success = 'There was an error processing your request';\n            }\n        });\n    };\n    $scope.registrationInit = function () { };\n\n\n}",
            "max_length": 8000,
            "ed": {
                "name": "client_script"
            }
        },
        "data_table": {
            "sys_mandatory": true,
            "visible": true,
            "dbType": 12,
            "default_value": "sp_instance",
            "label": "Data table",
            "sys_readonly": false,
            "type": "table_name",
            "mandatory": true,
            "displayValue": "sp_instance",
            "readonly": false,
            "hint": "",
            "name": "data_table",
            "attributes": {
                "base_table": "sp_instance",
                "base_start": "true"
            },
            "choice": 0,
            "choices": [],
            "value": "sp_instance",
            "max_length": 80,
            "ed": {
                "name": "data_table"
            }
        },
        "name": {
            "sys_mandatory": true,
            "visible": true,
            "dbType": 12,
            "label": "Name",
            "sys_readonly": false,
            "type": "translated_field",
            "mandatory": true,
            "displayValue": "Copy of Customer Registration",
            "readonly": false,
            "hint": "",
            "name": "name",
            "attributes": {
                "edge_encryption_enabled": "true"
            },
            "choice": 0,
            "value": "Copy of Customer Registration",
            "max_length": 40,
            "ed": {
                "name": "name"
            }
        },
        "sys_scope": {
            "sys_mandatory": false,
            "visible": true,
            "table_attributes": {
                "metadata_link_exempt": "true"
            },
            "dbType": 12,
            "label": "Application",
            "sys_readonly": true,
            "type": "reference",
            "mandatory": false,
            "refTable": "sys_scope",
            "reference_type": "table",
            "displayValue": "Global",
            "readonly": true,
            "hint": "Application containing this record",
            "name": "sys_scope",
            "attributes": {
                "encode_utf8": "false",
                "list_force_default": "true",
                "readonly_clickthrough": "true",
                "ignore_filter_on_new": "true",
                "edge_encryption_enabled": "true"
            },
            "reference_key": "sys_id",
            "readonlyClickthrough": true,
            "choice": 0,
            "value": "global",
            "max_length": 32,
            "ed": {
                "reference": "sys_scope",
                "searchField": "name",
                "defaultOperator": "STARTSWITH",
                "name": "sys_scope"
            }
        },
        "id": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": 12,
            "label": "ID",
            "sys_readonly": false,
            "type": "string",
            "mandatory": false,
            "displayValue": "customer-registration2",
            "readonly": false,
            "hint": "Identifier for $sp.embedWidget()",
            "name": "id",
            "attributes": {
                "edge_encryption_enabled": "true"
            },
            "choice": 0,
            "value": "customer-registration2",
            "max_length": 40,
            "ed": {
                "name": "id"
            }
        },
        "field_list": {
            "sys_mandatory": false,
            "visible": true,
            "dependentField": "data_table",
            "dbType": -1,
            "label": "Fields",
            "sys_readonly": false,
            "type": "field_list",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "field_list",
            "attributes": {
                "is_multi_text": "false"
            },
            "choice": 0,
            "value": "",
            "max_length": 1000,
            "ed": {
                "dependent_value": "sp_instance",
                "name": "field_list"
            }
        },
        "controller_as": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": 12,
            "label": "controllerAs",
            "sys_readonly": false,
            "type": "string",
            "mandatory": false,
            "displayValue": "c",
            "readonly": false,
            "hint": "Identifier name for a reference to the controller in the directive's scope",
            "name": "controller_as",
            "attributes": {
                "edge_encryption_enabled": "true"
            },
            "choice": 0,
            "value": "c",
            "max_length": 100,
            "ed": {
                "name": "controller_as"
            }
        }
    }
}